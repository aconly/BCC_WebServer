<div class="wallet-component">
    <div class="row">
        <div ng-if="checkWallet()===false">

            <div class="col-sm-6">
                <form name="form" ng-submit="form.$valid && createWallet(form)" novalidate>
                    <div class="form-group">
                        <label>Protect your Wallet with a password:</label>
                        <div ng-show="(form.$submitted || form.password.$touched) && (form.password.$error.required)"
                             class="alert alert-danger">
                            Please enter your password
                        </div>
                        <input type="password" name="password" value="" class="form-control" id="profile-password"
                               ng-model="password" required>
                    </div>
                    <div class="form-group">
                        <label>Confirm password</label>
                        <div ng-show="(form.$submitted || form.password_confirm.$touched) && (form.password_confirm.$error.required)"
                             class="alert alert-danger">
                            Please confirm your password
                        </div>
                        <div ng-show="(form.$submitted || form.password_confirm.$touched) && !form.password_confirm.$error.required && !form.password_confirm.$valid"
                             class="alert alert-danger">
                            Passwords do not match
                        </div>
                        <input type="password" name="password_confirm" value="" class="form-control"
                               id="profile-password-confirm" ng-model="password_confirm" required compare-to="password">
                    </div>
                    <div class="form-group">
                        <button type="submit" class="btn btn-default">Create Wallet</button>
                        <button type="button" class="btn btn-warning" ng-click="restoreWallet()">Restore Wallet</button>
                    </div>
                </form>
            </div>

            <div class="col-sm-6">
                <div class="panel panel-default">

                        <div class="panel-body">
                            <p>The javascript in your browser will generate a "Wallet" that contains a Public / Private Key-Pair.</p>
                            <ol>
                                <li>The <strong>Public-Key</strong> is your ADDRESS on the Blockchain.</li>
                                <li>The <strong>Private-Key</strong> is secured in your Wallet and protected by the password. Only with this Private-Key you can run a transaction on the Blockchain</li>
                            </ol>
                            <p>The Certificate Issuer can publish the Public-Key on his Webpage. So everybody can check who is the real person behind the Blockchain address</p>

                            <p>For simplification the Wallet is stored in the Browser Cache as Cooki. The Wallet will be available, when you revisit this page later. </p>

                        </div>
                </div>
            </div>
        </div>
        <div ng-if="checkWallet()===true">
            <div class="col-sm-6">
                <h3>You have already created a Wallet.</h3>

                <p>You wallet is saved in the Browser Cache. Its protected with a password!</p>
                <p>You can use this wallet, or create a new wallet. Your old wallet will be deleted from the Browser
                    cache in this case </p>
                <p>
                    <button type="button" class="btn btn-default" ng-click="restoreWalletFromLocalStorage()">Restore my
                        Wallet
                    </button>
                    <button type="button" class="btn btn-sm btn-danger" ng-click="deleteWallet()">Delete my Wallet!!
                    </button>
                </p>
            </div>

            <div class="col-sm-6">
               <div class="panel panel-default">
                   <div class="panel-body">
                    <p>Your already have created a "Wallet" on this Browser.</p>
                    <p>Its like a real wallet, it stores your private keys. It is stored encrypted in your browsers cache. </p>
                    <p>You have now two options</p>
                    <ol>
                        <li>Create a new wallet - be carefully, this will delete your old wallet and you may not be able to prove your ownership of your previous upload </li>
                        <li>Restore your old wallet, you will be able to prove ownership off the documents uploaded previously </li>
                    </ol>
            </div>
                </div>
            </div>
        </div>
    </div>
    <div ng-if="accountAddress">
    <div class="row">
        <div class="col-sm-6">

            <div id="result">
                <p>Your address on the Blockchain (e.g. to be published on your Webpage):</p>
                <p><strong>{{accountAddress}}</strong></p>
                <p>If you ever need to restore your wallet, keep this *secret* words to re-generate your wallet:</p>
                <p><strong>{{seed}}</strong></p>
                <div class="form-group">
                    <button class="btn btn-default" ng-click="printResult('result')" ng-disabled="!accountAddress">Print
                        secret words for backup
                    </button>
                </div>
            </div>
            <div ng-if="upload_asset.name!=''">
                <div class="panel_green">
                    <p>You already have uploaded data to the Blockchain with this account.</p>
                    <p>Your name was read from the Blockchain, it is: </p>
                    <h3><strong>{{upload_asset.name}}</strong></h3>
                    <p>Created on: {{upload_asset.upload_date}} </p>

                    <table>
                        <tr ng-repeat="hash in hashes">
                            <td>{{ hash.description}}</td>
                            <td>{{ hash.create_date }}</td>
                        </tr>
                    </table>


                </div>
            </div>


        </div>
        <div class="col-sm-6">

                <div class="panel panel-default">
                    <div class="panel-body">
                         <h3><strong>Identiy Created!</strong></h3>
                        <p>This number is your Blockchain IDENTITY - Its the Public-Key.</p>
                        <p>All activities on the Blockchain are signed with your Private-Key - the result it called a SIGNATURE.</p>
                        <p>The SIGNATURE does not tell your Private-Key, but everybody can check that the Public-Key linked to this SIGNATURE.</p>
                        <p><strong>In other words: Everything that happens on the Blockchain with your address/public-key, can only be done by the person who knows your private key - THAT IS YOU!</strong></p>
                    </div>
               </div>
            </div>
        </div>
    </div>
</div>